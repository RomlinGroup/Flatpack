# This file was automatically @generated by flatpack.ai on 2023-05-16 04:42:10.
# It is not intended for manual editing.

FROM nvidia/cuda:12.1.1-base-ubuntu22.04

ENV model_name=custom-gpt

# Create directories
RUN mkdir -p /home/content/checkpoints /home/content/data /home/content/models /home/content/scripts

# Install packages
RUN apt-get update && apt-get install -y build-essential curl git python3-pip unzip wget
RUN pip install keras matplotlib nltk numpy pandas plotly scikit-learn seaborn spacy tensorflow torch

# Expose ports
EXPOSE 80

# Download datasets and files
RUN wget https://raw.githubusercontent.com/karpathy/char-rnn/master/data/tinyshakespeare/input.txt -O /home/content/data/input.txt
RUN wget https://raw.githubusercontent.com/romlingroup/flatpack-ai/main/warehouse/custom-gpt/main.py -O /home/content/scripts/main.py

# Entrypoint
ENTRYPOINT ["python3", "/home/content/scripts/main.py"]